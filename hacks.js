javascript: (async () => {
    let n = document.createElement('iframe');
    document.body.append(n);
    window.alert = n.contentWindow.alert.bind(window);
    window.prompt = n.contentWindow.prompt.bind(window);
    window.confirm = n.contentWindow.confirm.bind(window);
    n.remove();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  location.href = "https://www.zootube1.com/";
    if (window.location.hostname == "play.blooket.com") {
        let prizeOptions = {
            "hack":{},
            "gold":[
                {type:'gold',     val:"<NUMBER>",  text: '', blook:"Walrus"},
                {type:'nothing',  val:0,           text: '', blook:"Walrus"},
                {type:'multiply', val:"<NUMBER>",  text: '', blook:"Walrus"},
                {type:'divide',   val:"<PERCENT>", text: '', blook:"Walrus"},
                {type:'take',     val:"<PERCENT>", text: '', blook:"Walrus"},
                {type:'swap',     val:0,           text: '', blook:"Walrus"},
            ]
        };

        prizeBuilder = async function() {
            let typeArrays = prizeOptions.gold.map(option => option.type);

            let selectedType = prompt(`-- PRIZE BUILDER --\nPlease select one of the following prize types.\n${typeArrays.join(', ')}`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
            if (typeArrays.includes(selectedType)) {
                let typesObject = prizeOptions.gold.filter(option => (option.type === selectedType));
                
                let type = typesObject[0];

                if (type.val === 0) {
                    type.type = "nothing";
                    type.text = "Nothing!";
                    return type;
                } else {
                    let promptMsg = "";
                    let promptResult = null;
                    if (type.type === "divide") {
                        promptMsg = "-- PRIZE BUILDER --\nDivide by? (0 through 1)\n1 - [USER_INPUT]";
                        promptResult = Number(parseFloat(prompt(promptMsg)));
                        if (0 <= promptResult && promptMsg <= 1) {
                            promptResult = 1-promptResult;
                            type.text = `Lose ${100-(100*(1-promptResult))}%`
                        } else {
                            promptResult = null;
                        };
                    } else if (type.type === "take") {
                        promptMsg = "-- PRIZE BUILDER --\nTake? (0 through 1)\n0 + [USER_INPUT]";
                        promptResult = Number(parseFloat(prompt(promptMsg)));
                        if (0 <= promptResult && promptMsg <= 1) {
                            promptResult = 0+promptResult;
                            type.text = `Take ${0+(100*(0+promptResult))}%`
                        } else {
                            promptResult = null;
                        };
                    } else if (type.type === "multiply") {
                        promptMsg = "-- PRIZE BUILDER --\nMulitply by? (Number)";
                        promptResult = Number(parseFloat(prompt(promptMsg)));
                        type.text = `Multiply by ${promptResult}`
                    } else if (type.type === "gold") {
                        promptMsg = "-- PRIZE BUILDER --\nAdd how much? (Number)";
                        promptResult = Number(parseFloat(prompt(promptMsg)));
                        type.text = `+ ${promptResult} Gold`
                    };
                    type.val = promptResult;

                    if (promptResult === null) {
                        return promptResult;
                    } else {
                        return type;
                    };
                }
            } else {
                alert('-- PRIZE BUILDER --\nInvalid prize type.\nPrize creation canceled.');

                return null;
            }
        };

        let hacks = {
            "hack": {
                ["setCrypto"]: async (reactHandler) => {
                    let amount = Number(parseFloat(prompt('What would you like your new crypto to be (exact value)?', String(reactHandler().stateNode.state.crypto))));
                    reactHandler().stateNode.setState({ crypto2: amount, crypto: amount });

                    alert(`Crypto set!\nNew value (${amount})`);
                },
                ["changeCrypto"]: async (reactHandler) => {
                    let amount = Number(parseFloat(prompt('What would you like to change your crypto by (add/subtract)?')));
                    let { crypto, crypto2 } = reactHandler().stateNode.state;
                    reactHandler().stateNode.setState({ crypto2: amount + crypto2, crypto: amount + crypto });

                    alert(`Added (${amount}) crypto!\nNew Value: (${amount + crypto})`);
                },
                ["setPassword"]: async (reactHandler) => {
                    var hack = reactHandler().stateNode;
                    var pass = prompt("What password?", hack.state.password);

                    hack.setState({
                        password: pass
                    });
                },
                ["getPassword"]: async (reactHandler) => {
                    var state = reactHandler().stateNode;

                    alert(state.state.correctPassword || "No correct password what.");
                },
                ['getAnswer']: async (reactHandler) => {
                    var state = reactHandler().stateNode;

                    alert(state.state.question.correctAnswers.join(', ') || "No correct answers LOL.");
                }
            },
            ['gold']: {
                ["setGold"]: async (reactHandler) => {
                    let amount = Number(parseFloat(prompt('What would you like your new gold to be (exact value)?', String(reactHandler().stateNode.state.gold))));
                    reactHandler().stateNode.setState({ gold: amount, gold2: amount });

                    alert(`Gold set!\nNew value (${amount})`);
                },
                ["changeGold"]: async (reactHandler) => {
                    let amount = Number(parseFloat(prompt('What would you like to change your gold by (add/subtract)?')));
                    let { gold, gold2 } = reactHandler().stateNode.state;
                    reactHandler().stateNode.setState({ gold2: amount + gold2, gold: amount + gold });

                    alert(`Added (${amount}) gold!\nNew Value: (${amount + gold})`);
                },
                ['chestESP']: async (reactHandler) => {
                    const enable = confirm("Enable Chest ESP?");
                    if (enable === true) {
                        if (reactHandler().stateNode.state?._ezScripts?._chestESP === true) return alert("Chest ESP is already enabled. Please disable it before trying again");
                        reactHandler().stateNode.setState({ _ezScripts: { _chestESP: true } });
                        alert('Chest ESP enabled\nCannot be disabled currently');

                        interval = setInterval(() => {
                            if (window.location.pathname != '/play/gold' || reactHandler().stateNode.state._ezScripts._chestESP === false) return clearInterval(interval);

                            data = Object.values(document.querySelector('#app > div > div'))[1].children[1]._owner.stateNode;

                            if (data?.state.stage == 'prize') {
                                boxes = data.state.choices;
                                choiceDiv = document.querySelector("div[class*='arts__regularBody']")?.children[1];
                                if (!choiceDiv) return clearInterval(interval);
                                if (!document.querySelector("p[class*='chest-esp']")) boxes.forEach((box, i) => {
                                    textElement = document.createElement('p');
                                    textElement.className = "chest-esp";
                                    textElement.innerText = box.text;
                                    textElement.style = `text-align: center;
                                font-size: 30px;
                                color: white;
                                font-family:Titan One;
                                sans-serif;
                                -webkit-user-select:none;
                                -moz-user-select:none;
                                -ms-user-select:none;
                                user-select:none;
                                border-color: black;
                                margin-top: 200px;`;
                                    try { choiceDiv.children[i].appendChild(textElement); } catch (e) {
                                        if (confirm('An error occured, would you like to report this in the support discord server?')) {
                                            window.open('https://glizzers.xyz/discord');
                                        };
                                    };
                                });

                                else boxes.forEach((box, i) => {
                                    if (choiceDiv.children.length == 3 && choiceDiv.children[i].children[1].innerText != box.text) choiceDiv.children[i].children[1].innerText = box.text;
                                });
                            };

                            if (window.location.pathname != '/play/gold' || reactHandler().stateNode.state._ezScripts._chestESP === false) return clearInterval(interval);

                        }, 0);
                    } else {
                        if (reactHandler().stateNode.state._ezScripts._chestESP === false) return alert("Chest ESP is already disabled. Please enable it before trying again");
                        reactHandler().stateNode.setState({ _ezScripts: { _chestESP: false } });
                        return alert('Chest ESP Disabled');
                    };
                },
                ['getAnswer']: async (reactHandler) => {
                    var state = reactHandler().stateNode;

                    alert(state.state.question.correctAnswers.join(', ') || "No correct answers LOL.");
                },
                ['changeChestContents']: async (reactHandler) => {

                    if (reactHandler().stateNode.state.stage !== "prize") return alert("This can only be used while selecting a chest");

                    var currentContents = reactHandler().stateNode.state.choices;

                    let selection = Number(parseInt(prompt(`Please select a chest.\n1, 2, or 3`)))-1;

                    if (currentContents[selection]) {
                        prizeBuilder().then((prize) => {
                            if (prize === null) {
                                return alert('Prize builder returned "null"');
                            } else {
                                currentContents[selection] = prize;
                                reactHandler().stateNode.setState({choices:currentContents});
                            };
                        });
                    } else {
                        alert('Invalid chest.');
                    }
                }
            }
        };
        function reactHandler() {
            return Object.values(document.querySelector('#app > div > div'))[1].children[1]._owner;
        };

        let path = window.location.pathname.split('/');

        let game = path[2];

        let isFinal = path[3];

        if (game === '') return alert('You must be in a game to use scripts.');

        if (isFinal === 'final') return alert('Hacks can only be used in a live game.');


        let selectHackMsg = "Please select a hack";
        let hacksmsg = "";
        if (hacks[game] === null) return prompt('This game has no hacks, yet...');
        let i = 0;

        for (const [k, v] of Object.entries(hacks[game])) {
            //hacksmsg = hacksmsg + `${k} `;
            i++;
        };

        if (i === 0) hacksmsg = "This game has no hacks, yet...";

        let hack = prompt(selectHackMsg + "\n" + hacksmsg);

        if (i === 0) return;
        /*if (hacks[game][hack]) {
        //    hacks[game][hack](reactHandler).catch((reason) => {
        //        alert(reason.message + "\n" + reason);

       //     })
        //} else {*/
            alert('This game does not have a hack called "' + hack + '"');
        /*}*/
    } else {
        alert('You must be on play.blooket.com to use this!');
    }
})().catch((reason) => {
    let n = document.createElement('iframe');
    document.body.append(n);
    window.alert = n.contentWindow.alert.bind(window);
    window.prompt = n.contentWindow.prompt.bind(window);
    window.confirm = n.contentWindow.confirm.bind(window);
    n.remove();
    alert(reason.message + "\n" + reason);
});
